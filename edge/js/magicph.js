(()=>{"use strict";var e={"./js/api.js":(e,t,s)=>{s.r(t),s.d(t,{mph:()=>o});const o={ael:(e=document,t,s)=>e.addEventListener(t,s),async check(e){for(;null===e;)await new Promise((e=>requestAnimationFrame(e)));return e},create(e,t,s){let o=document.createElement(e);return s&&(o.type=s),t&&(o.className=t),o},delay:e=>new Promise((t=>setTimeout(t,e))),err(...e){console.error("[%cMagicPH%c] %cERROR","color: rgb(255,153,0);","","color: rgb(249, 24, 128);",...e)},getItem:e=>localStorage.getItem(e),async getURL(e){let t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();return Promise.resolve(s)},halt(e){e.preventDefault(),e.stopPropagation()},info(...e){console.info("[%cMagicPH%c] %cINF","color: rgb(255,153,0);","","color: rgb(0, 186, 124);",...e)},inject(e){let t,s=document;t=this.create("script",null,"text/javascript"),t.innerHTML=e,(s.head||s.documentElement||s).appendChild(t),t&&t.remove()},log(...e){console.log("[%cMagicPH%c] %cDBG","color: rgb(255,153,0);","","color: rgb(255, 212, 0);",...e)},observe(e,t,s={subtree:!0,childList:!0}){let o=new MutationObserver(t);return t([],o),o.observe(e,s),o},async query(e,t=document){for(;null===t.querySelector(e);)await new Promise((e=>requestAnimationFrame(e)));return t.querySelector(e)},removeItem:e=>localStorage.removeItem(e),setItem:(e,t)=>localStorage.setItem(e,t),scrollnumber:/view_video.php/.test(window.location.href)?400:101}},"./js/general.js":(e,t,s)=>{s.r(t),s.d(t,{check:()=>r});const o=(e,t=document)=>t.querySelector(e),i=document.location.href,r={community:"/user/discover"==document.location.pathname,channel:o("#channelsProfile"),category:/categories/.test(i),favorites:/magicph-favorites/.test(i),home:"/"==document.location.pathname,gay:/gay/.test(i),gif:/gifs/.test(i)||/gif/.test(i),lo:o("body.logged-out"),model:o("div.amateurModel"),new:o("#headerSearchWrapperFree"),premium:o(".premiumUser"),pstar:/pornstars/.test(i),user:o("#profileContent"),video:/view_video.php/.test(i),recommended:"/recommended"===document.location.pathname}},"./js/querySelector.js":(e,t,s)=>{s.r(t),s.d(t,{qs:()=>i,qsA:()=>o});const o=(e,t=document)=>t.querySelectorAll(e),i=(e,t=document)=>t.querySelector(e)}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,s),r.exports}s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};(()=>{s.r(o);var e=s("./js/api.js"),t=s("./js/querySelector.js"),i=s("./js/general.js");let r=(t="default")=>{"default"!=t&&e.mph.query(".userInfo > div.usernameWrap > span.usernameBadgesWrapper > a").then((e=>{e.href=e.href+"/videos"}))};i.check.channel&&e.mph.log("Channel page"),i.check.home&&(e.mph.info("Homepage page"),(0,t.qsA)("ul").forEach((e=>{"Recommended for You"===e.dataset.hpblockname&&(0,t.qs)(".frontListingWrapper").prepend(e.parentElement)}))),i.check.video&&(e.mph.info("Video page"),(0,t.qs)("html").style="scrollbar-color: #4646463d #000 !important;",r("video"),(0,t.qs)('[data-entrycode="VidPg-premVid-videoPage"]')&&(0,t.qs)('[data-entrycode="VidPg-premVid-videoPage"]').parentElement.parentElement.remove(),(0,t.qs)(".mainPlayerDiv").classList.add("bigp"),(0,t.qs)(".relatedVideos").classList.add("mph1","video-info-row","showLess","allRelatedVideos"),(0,t.qs)(".show-more-btn").classList.add("bottom"),(0,t.qs)(".video-actions-tabs").append((0,t.qs)(".mph1")),(0,t.qs)(".videos-list").classList.add("mph2","video-info-row","showLess"),(0,t.qs)(".mph1").append((0,t.qs)(".mph2")),(0,t.qs)(".videos-list").classList.add("mph3","video-info-row","showLess"),(0,t.qs)(".js-relatedRecommended").append((0,t.qs)(".mph3")),(0,t.qs)(".mph2 > .user-playlist").id="relatedVideosCenter",(0,t.qsA)("ul.mgp_quality.mgp_optionsList > li").forEach((e=>{e.classList.remove("mgp_active")})),(0,t.qsA)("ul.mgp_quality.mgp_optionsList > li")[0].classList.add("mgp_active"),e.mph.ael((0,t.qs)(".mgp_options"),"click",(()=>{(0,t.qs)("div.mgp_optionsMenu.mgp_visible.mgp_level2")?((0,t.qs)("div.mgp_optionsMenu").classList.remove("mgp_level2","mgp_visible"),(0,t.qs)(".mgp_optionsMenu > div:nth-child(2)").classList.remove("mgp_animated"),(0,t.qs)(".mgp_optionsMenu > div:nth-child(2)").setAttribute("style","width: 165px; height: 136px;"),(0,t.qs)("ul.mgp_quality.mgp_optionsList").setAttribute("style","display:none;")):((0,t.qs)(".mgp_subPage > div:nth-child(1)").innerText="Quality",(0,t.qs)("div.mgp_optionsMenu").classList.add("mgp_level2","mgp_visible"),(0,t.qs)(".mgp_optionsMenu > div:nth-child(2)").classList.add("mgp_animated"),(0,t.qs)(".mgp_optionsMenu > div:nth-child(2)").setAttribute("style","width: 110px; height: 194px;"),(0,t.qs)("ul.mgp_quality.mgp_optionsList").setAttribute("style","display:block;"))})),e.mph.ael((0,t.qs)(".mgp_clickHandler"),"click",(()=>{(0,t.qs)("div.mgp_optionsMenu").classList.remove("mgp_level2","mgp_visible"),(0,t.qs)(".mgp_optionsMenu > div:nth-child(2)").classList.remove("mgp_animated"),(0,t.qs)(".mgp_optionsMenu > div:nth-child(2)").setAttribute("style","width: 165px; height: 136px;"),(0,t.qs)("ul.mgp_quality.mgp_optionsList").setAttribute("style","display:none;")})),(0,t.qsA)("div.mgp_header").forEach((s=>{e.mph.ael(s,"click",(()=>{(0,t.qs)("div.mgp_optionsMenu.mgp_visible.mgp_level2")&&((0,t.qs)("div.mgp_optionsMenu").classList.remove("mgp_level2"),(0,t.qs)(".mgp_optionsMenu > div:nth-child(2)").setAttribute("style","width: 165px; height: 136px;"))}))}))),i.check.category&&e.mph.info("Categories"),i.check.user&&e.mph.info("User Profile"),i.check.model&&(e.mph.info("Model"),r("model")),i.check.pstar&&e.mph.info("Pornstar"),i.check.gif&&(e.mph.info("Gifs"),i.check.lo&&(0,t.qs)("#imgNavWrap").append((0,t.qs)(".gifColumnRight"))),i.check.recommended&&i.check.lo&&(0,t.qs)('a[href="/recommended/rate"]').classList.add("rm"),r(),i.check.lo&&(e.mph.info("Logged out"),e.mph.inject("disablePlaylistPlusButon = true")),e.mph.ael(document,"scroll",(()=>{const s=(0,t.qs)(".headerSearchWrapper"),o=(0,t.qsA)(".pagination3 > ul")[1],r=(0,t.qsA)(".pagination3 > .pjump")[1],a=(0,t.qs)(".magicCenter"),l=(0,t.qs)(".mph1"),n=(0,t.qs)(".mph2");i.check.video&&(document.documentElement.scrollTop>300?a.classList.add("top"):a.classList.remove("top")),document.documentElement.scrollTop>e.mph.scrollnumber?((0,t.qs)(".magicTop").classList.add("top"),s.classList.add("sticky"),o&&o.classList.add("top"),r&&r.classList.add("top"),l&&l.setAttribute("style","display: block;"),n&&n.setAttribute("style","display: block;"),a&&a.classList.remove("top")):((0,t.qs)(".magicTop").classList.remove("top"),s.classList.remove("sticky"),o&&o.classList.remove("top"),r&&r.classList.remove("top"),l&&l.setAttribute("style","display: none;"),n&&n.setAttribute("style","display: none;"))}))})()})();
//# sourceMappingURL=magicph.js.map