(()=>{"use strict";var e={"./js/api-webext.js":(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const a="undefined"==typeof browser?chrome:browser,o={debug:!0,altplayers:"none",seektime:4,autojump:!1,autoscroll:!0,blurimg:!1,comments:!1,topbutton:!0,sidebar:!0,favorites:"",blacklist:"none",headerOrder:["home","videos","categories","pornstars","gifs","recommended","favorites"],headerLinks:{url:{h1_link:"/",h2_link:"/",h3_link:"/",h4_link:"/",h5_link:"/",h6_link:"/",h7_link:"/",h8_link:"/"},name:{h1_link:"/",h2_link:"/",h3_link:"/",h4_link:"/",h5_link:"/",h6_link:"/",h7_link:"/",h8_link:"/"}}},n={getItem(e){a.storage.local.get(o,e)},getSync(e){a.storage.sync.get(o,e)},getURL:e=>(a.runtime.getURL(e),e),setItem:e=>(a.storage.local.set(e),e),setSync:e=>(a.storage.sync.set(e),e)}},"./js/api.js":(e,t,r)=>{r.r(t),r.d(t,{mph:()=>a});const a={ael:(e=document,t,r)=>e.addEventListener(t,r),async check(e){for(;null===e;)await new Promise((e=>requestAnimationFrame(e)));return e},create(e,t,r){let a=document.createElement(e);return r&&(a.type=r),t&&(a.className=t),a},delay:e=>new Promise((t=>setTimeout(t,e))),err(...e){console.error("[%cMagicPH%c] %cERROR","color: rgb(255,153,0);","","color: rgb(249, 24, 128);",...e)},getItem:e=>localStorage.getItem(e),async getURL(e){let t=await fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}),r=await t.json();return Promise.resolve(r)},halt(e){e.preventDefault(),e.stopPropagation()},info(...e){console.info("[%cMagicPH%c] %cINF","color: rgb(255,153,0);","","color: rgb(0, 186, 124);",...e)},inject(e){let t,r=document;t=this.create("script",null,"text/javascript"),t.innerHTML=e,(r.head||r.documentElement||r).appendChild(t),t&&t.remove()},log(...e){console.log("[%cMagicPH%c] %cDBG","color: rgb(255,153,0);","","color: rgb(255, 212, 0);",...e)},observe(e,t,r={subtree:!0,childList:!0}){let a=new MutationObserver(t);return t([],a),a.observe(e,r),a},async query(e,t=document){for(;null===t.querySelector(e);)await new Promise((e=>requestAnimationFrame(e)));return t.querySelector(e)},removeItem:e=>localStorage.removeItem(e),setItem:(e,t)=>localStorage.setItem(e,t),scrollnumber:/view_video.php/.test(window.location.href)?400:101}},"./js/general.js":(e,t,r)=>{r.r(t),r.d(t,{check:()=>n});const a=(e,t=document)=>t.querySelector(e),o=document.location.href,n={community:"/user/discover"==document.location.pathname,channel:a("#channelsProfile"),category:/categories/.test(o),favorites:/magicph-favorites/.test(o),home:"/"==document.location.pathname,gay:/gay/.test(o),gif:/gifs/.test(o)||/gif/.test(o),lo:a("body.logged-out"),model:a("div.amateurModel"),new:a("#headerSearchWrapperFree"),premium:a(".premiumUser"),pstar:/pornstars/.test(o),user:a("#profileContent"),video:/view_video.php/.test(o),recommended:"/recommended"===document.location.pathname}}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{r.r(a);var e=r("./js/general.js"),t=r("./js/api.js"),o=r("./js/api-webext.js");o.default.getItem((r=>{e.check.favorites&&t.mph.query("body").then((()=>{document.title="[MagicPH] Favorites",$(document.body).addClass("mph"),$(".wrapper > .container").attr("class","favorites").html(r.favorites);let e=document.querySelectorAll("button.download-trigger"),a=document.querySelectorAll("button.remove-trigger"),n=l=>{t.mph.halt(l);let i=l.target;"Download"==$(i).text()?($(i).parent().siblings("div").addClass("rm"),$(i).parent().parent().parent().addClass("marked"),$(i).parent().parent().siblings("a").addClass("rm"),$(i).parent().parent().siblings("span").addClass("rm"),$(i).text("Downloaded!")):($(i).parent().siblings("div").removeClass("rm"),$(i).parent().parent().parent().removeClass("marked"),$(i).parent().parent().siblings("a").removeClass("rm"),$(i).parent().parent().siblings("span").removeClass("rm"),$(i).text("Download")),e.forEach(((r,o)=>{e[o].removeEventListener("click",n),t.mph.ael(e[o],"click",n),a[o].removeEventListener("click",s),t.mph.ael(a[o],"click",s)})),r.favorites=$(".magic-popup > .favorites").html(),o.default.setItem(r)},s=l=>{t.mph.halt(l);let i=l.target;"Remove"==$(i).text()?($(i).parent().siblings("div").addClass("rm"),$(i).parent().parent().parent().addClass("marked"),$(i).parent().parent().siblings("a").addClass("rm"),$(i).parent().parent().siblings("span").addClass("rm"),$(i).text("Undo")):($(i).parent().siblings("div").removeClass("rm"),$(i).parent().parent().parent().removeClass("marked"),$(i).parent().parent().siblings("a").removeClass("rm"),$(i).parent().parent().siblings("span").removeClass("rm"),$(i).text("Remove")),e.forEach(((r,o)=>{e[o].removeEventListener("click",n),t.mph.ael(e[o],"click",n),a[o].removeEventListener("click",s),t.mph.ael(a[o],"click",s)})),r.favorites=$(".magic-popup > .favorites").html(),o.default.setItem(r)};a.forEach(((e,r)=>{a[r].removeEventListener("click",s),t.mph.ael(a[r],"click",s)})),e.forEach(((r,a)=>{e[a].removeEventListener("click",n),t.mph.ael(e[a],"click",n)}))}))}))})()})();
//# sourceMappingURL=favorites.js.map