{"version":3,"file":"favorites.js","mappings":"uFAAA,MAAMA,EAAwB,oBAATC,QAAqBC,OAAOD,QACjDE,EAAgB,CACdC,OAAO,EACPC,WAAY,OACZC,SAAU,EACVC,UAAU,EACVC,YAAY,EACZC,SAAS,EACTC,UAAU,EACVC,WAAW,EACXC,SAAS,EACTC,UAAW,GACXC,UAAW,OACXC,YAAa,CACX,OACA,SACA,aACA,YACA,OACA,cACA,aAEFC,YAAa,CACXC,IAAK,CACHC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,KAEXC,KAAM,CACJR,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,IACTC,QAAS,OAyBf,EArBS,CACPE,QAAQC,GACN5B,EAAK6B,QAAQC,MAAMC,IAAI5B,EAAcyB,IAEvCI,QAAQJ,GACN5B,EAAK6B,QAAQI,KAAKF,IAAI5B,EAAcyB,IAEtCM,OAAOC,IACLnC,EAAKoC,QAAQF,OAAOC,GACbA,GAETE,QAAQC,IACNtC,EAAK6B,QAAQC,MAAMS,IAAID,GAChBA,GAETE,QAAQF,IACNtC,EAAK6B,QAAQI,KAAKM,IAAID,GACfA,K,kDC5DJ,MAAMG,EAAM,CACjBC,IAAG,CAACC,EAAMC,SAAUC,EAAOjB,IAClBe,EAAIG,iBAAiBD,EAAOjB,GAGrCmB,YAAYC,GACV,KAAgB,OAATA,SACC,IAAIC,SAASC,GAAYC,sBAAsBD,KAEvD,OAAOF,GAGTI,OAAOC,EAAQC,EAAMC,GACnB,IAAIC,EAAKZ,SAASa,cAAcJ,GAGhC,OAFAE,IAAQC,EAAGD,KAAOA,GAClBD,IAASE,EAAGE,UAAYJ,GACjBE,GAETG,MAAMC,GACG,IAAIX,SAAQC,GAAWW,WAAWX,EAASU,KAEpDE,OAAOC,GACLC,QAAQD,MAAM,wBAAyB,yBAA0B,GAAI,+BAAgCA,IAEvGpC,QAAQsC,GACCC,aAAavC,QAAQsC,GAE9BlB,aAAa9B,GACX,IAAIkD,QAAYC,MAAMnD,EAAK,CACzBoD,OAAQ,MACRC,QAAS,CAAE,eAAgB,sBAE7BC,QAAUJ,EAAIK,OACd,OAAOvB,QAAQC,QAAQqB,IAEzBE,KAAKC,GACHA,EAAEC,iBACFD,EAAEE,mBAEJC,QAAQC,GACNd,QAAQa,KAAK,sBAAuB,yBAA0B,GAAI,8BAA+BC,IAEnGC,OAAOC,GACL,IAAIC,EACJC,EAAMtC,SACNqC,EAASE,KAAK/B,OAAO,SAAS,KAAK,mBACnC6B,EAAOG,UAAYJ,GAClBE,EAAIG,MAAQH,EAAII,iBAAmBJ,GAAKK,YAAYN,GACjDA,GACFA,EAAOO,UAGXC,OAAOX,GACLd,QAAQyB,IAAI,sBAAuB,yBAA0B,GAAI,8BAA+BX,I,QAQ5FY,EAAQ,EAAOC,EAAAA,CACnB/D,SAAS,EACT8D,WAASE,IAEV,8B,OACD,QAEE,EAAQC,QAAKC,EAAcC,GACzB,GACD,0BACD,KAAoC,OAApC,EAAW,cAAc,UAC1B,2CAGA,2B,WAEQ7B,GACR,2BAED,e,qJClFF,MAAM8B,EAAK,CAAC3C,EAAS0C,EAAWnD,WACvBmD,EAASD,cAAczC,GAEhC4C,EAASrD,SAASsD,SAASC,KAC3BC,EAAQ,CACNC,UAAyC,kBAA9BzD,SAASsD,SAASI,SAC7BC,QAASP,EAAG,oBACZQ,SAAU,aAAaC,KAAKR,GAC5BpF,UAAW,oBAAoB4F,KAAKR,GACpCS,KAAoC,KAA9B9D,SAASsD,SAASI,SACxBK,IAAK,MAAMF,KAAKR,GAChBW,IAAK,OAAOH,KAAKR,IAAW,MAAMQ,KAAKR,GACvCY,GAAIb,EAAG,mBACPc,MAAOd,EAAG,oBACVe,IAAKf,EAAG,4BACRgB,QAAShB,EAAG,gBACZiB,MAAO,YAAYR,KAAKR,GACxBiB,KAAMlB,EAAG,mBACTmB,MAAO,iBAAiBV,KAAKR,GAE7BmB,YAA4C,iBAA/BxE,SAASsD,SAASI,YCnB7Be,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CAGjDG,QAAS,IAOV,OAHAE,EAAoBL,GAAUI,EAAQA,EAAOD,QAASJ,GAG/CK,EAAOD,QCpBfJ,EAAoBO,EAAI,CAACH,EAASI,KACjC,IAAI,IAAI7D,KAAO6D,EACXR,EAAoBS,EAAED,EAAY7D,KAASqD,EAAoBS,EAAEL,EAASzD,IAC5E+D,OAAOC,eAAeP,EAASzD,EAAK,CAAEiE,YAAY,EAAMnG,IAAK+F,EAAW7D,MCJ3EqD,EAAoBS,EAAI,CAACI,EAAKC,IAAUJ,OAAOK,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFd,EAAoB/C,EAAKmD,IACH,oBAAXc,QAA0BA,OAAOC,aAC1CT,OAAOC,eAAeP,EAASc,OAAOC,YAAa,CAAEC,MAAO,WAE7DV,OAAOC,eAAeP,EAAS,aAAc,CAAEgB,OAAO,K,8FCAvDC,EAAAA,QAAAA,SAAgBC,IACXxC,EAAAA,MAAAA,WACD3D,EAAAA,IAAAA,MAAU,QAAQoG,MAAK,KACvBjG,SAASkG,MAAQ,sBACjBC,EAAEnG,SAASoG,MAAMC,SAAS,OAC1BF,EAAE,yBAAyBG,KAAK,QAAS,aAAaC,KAAKP,EAAO/H,WAClE,IAAIuI,EAAaxG,SAASyG,iBAAiB,2BAC3CC,EAAU1G,SAASyG,iBAAiB,yBACpCE,EAAc7E,IACZjC,EAAAA,IAAAA,KAASiC,GACT,IAAI8E,EAAI9E,EAAE+E,OACQ,YAAfV,EAAES,GAAGE,QACNX,EAAES,GAAGG,SAASC,SAAS,OAAOX,SAAS,MACvCF,EAAES,GAAGG,SAASA,SAASA,SAASV,SAAS,UACzCF,EAAES,GAAGG,SAASA,SAASC,SAAS,KAAKX,SAAS,MAC9CF,EAAES,GAAGG,SAASA,SAASC,SAAS,QAAQX,SAAS,MACjDF,EAAES,GAAGE,KAAK,iBAEVX,EAAES,GAAGG,SAASC,SAAS,OAAOC,YAAY,MAC1Cd,EAAES,GAAGG,SAASA,SAASA,SAASE,YAAY,UAC5Cd,EAAES,GAAGG,SAASA,SAASC,SAAS,KAAKC,YAAY,MACjDd,EAAES,GAAGG,SAASA,SAASC,SAAS,QAAQC,YAAY,MACpDd,EAAES,GAAGE,KAAK,aAEZN,EAAWU,SAAQ,CAACC,EAAKC,KACvBZ,EAAWY,GAAGC,oBAAoB,QAASV,GAC3C9G,EAAAA,IAAAA,IAAQ2G,EAAWY,GAAG,QAAST,GAC/BD,EAAQU,GAAGC,oBAAoB,QAASC,GACxCzH,EAAAA,IAAAA,IAAQ6G,EAAQU,GAAG,QAASE,MAE9BtB,EAAO/H,UAAYkI,EAAE,6BAA6BI,OAClDR,EAAAA,QAAAA,QAAeC,IAEjBsB,EAAaxF,IACXjC,EAAAA,IAAAA,KAASiC,GACT,IAAI8E,EAAI9E,EAAE+E,OACQ,UAAfV,EAAES,GAAGE,QACNX,EAAES,GAAGG,SAASC,SAAS,OAAOX,SAAS,MACvCF,EAAES,GAAGG,SAASA,SAASA,SAASV,SAAS,UACzCF,EAAES,GAAGG,SAASA,SAASC,SAAS,KAAKX,SAAS,MAC9CF,EAAES,GAAGG,SAASA,SAASC,SAAS,QAAQX,SAAS,MACjDF,EAAES,GAAGE,KAAK,UAEVX,EAAES,GAAGG,SAASC,SAAS,OAAOC,YAAY,MAC1Cd,EAAES,GAAGG,SAASA,SAASA,SAASE,YAAY,UAC5Cd,EAAES,GAAGG,SAASA,SAASC,SAAS,KAAKC,YAAY,MACjDd,EAAES,GAAGG,SAASA,SAASC,SAAS,QAAQC,YAAY,MACpDd,EAAES,GAAGE,KAAK,WAEZN,EAAWU,SAAQ,CAACC,EAAKC,KACvBZ,EAAWY,GAAGC,oBAAoB,QAASV,GAC3C9G,EAAAA,IAAAA,IAAQ2G,EAAWY,GAAG,QAAST,GAC/BD,EAAQU,GAAGC,oBAAoB,QAASC,GACxCzH,EAAAA,IAAAA,IAAQ6G,EAAQU,GAAG,QAASE,MAE9BtB,EAAO/H,UAAYkI,EAAE,6BAA6BI,OAClDR,EAAAA,QAAAA,QAAeC,IAEjBU,EAAQQ,SAAQ,CAACC,EAAKC,KACpBV,EAAQU,GAAGC,oBAAoB,QAASC,GACxCzH,EAAAA,IAAAA,IAAQ6G,EAAQU,GAAG,QAASE,MAE9Bd,EAAWU,SAAQ,CAACC,EAAKC,KACvBZ,EAAWY,GAAGC,oBAAoB,QAASV,GAC3C9G,EAAAA,IAAAA,IAAQ2G,EAAWY,GAAG,QAAST,a","sources":["webpack:///./js/api-webext.js","webpack:///./js/api.js","webpack:///./js/general.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./js/favorites.js"],"sourcesContent":["const brws = (typeof browser==\"undefined\"?chrome:browser),\r\nconfigDefault = {\r\n  debug: true,\r\n  altplayers: \"none\",\r\n  seektime: 4,\r\n  autojump: false,\r\n  autoscroll: true,\r\n  blurimg: false,\r\n  comments: false,\r\n  topbutton: true,\r\n  sidebar: true,\r\n  favorites: \"\",\r\n  blacklist: \"none\",\r\n  headerOrder: [\r\n    \"home\",\r\n    \"videos\",\r\n    \"categories\",\r\n    \"pornstars\",\r\n    \"gifs\",\r\n    \"recommended\",\r\n    \"favorites\",\r\n  ],\r\n  headerLinks: {\r\n    url: {\r\n      h1_link: \"/\",\r\n      h2_link: \"/\",\r\n      h3_link: \"/\",\r\n      h4_link: \"/\",\r\n      h5_link: \"/\",\r\n      h6_link: \"/\",\r\n      h7_link: \"/\",\r\n      h8_link: \"/\",\r\n    },\r\n    name: {\r\n      h1_link: \"/\",\r\n      h2_link: \"/\",\r\n      h3_link: \"/\",\r\n      h4_link: \"/\",\r\n      h5_link: \"/\",\r\n      h6_link: \"/\",\r\n      h7_link: \"/\",\r\n      h8_link: \"/\",\r\n    },\r\n  },\r\n},\r\nwebext = {\r\n  getItem(callback) {\r\n    brws.storage.local.get(configDefault,callback);\r\n  },\r\n  getSync(callback) {\r\n    brws.storage.sync.get(configDefault,callback);\r\n  },\r\n  getURL(path) {\r\n    brws.runtime.getURL(path)\r\n    return path;\r\n  },\r\n  setItem(keys) {\r\n    brws.storage.local.set(keys);\r\n    return keys;\r\n  },\r\n  setSync(keys) {\r\n    brws.storage.sync.set(keys);\r\n    return keys;\r\n  },\r\n};\r\n\r\nexport default webext;","'use strict';\r\n\r\nexport const mph = {\r\n  ael(elm = document, event, callback){\r\n    return elm.addEventListener(event, callback);\r\n  },\r\n  /** Waits until args return true */\r\n  async check(args) {\r\n    while (args === null) {\r\n      await new Promise( resolve =>  requestAnimationFrame(resolve) )\r\n    }\r\n    return args;\r\n  },\r\n  /** Can create various elements */\r\n  create(element,cname,type) {\r\n    let el = document.createElement(element);\r\n    type ? (el.type = type) : false;\r\n    cname ? (el.className = cname) : false;\r\n    return el;\r\n  },\r\n  delay(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  },\r\n  err(...error) {\r\n    console.error('[%cMagicPH%c] %cERROR', 'color: rgb(255,153,0);', '', 'color: rgb(249, 24, 128);', ...error);\r\n  },\r\n  getItem(key) {\r\n    return localStorage.getItem(key);\r\n  },\r\n  async getURL(url) {\r\n    let res = await fetch(url, {\r\n      method: \"GET\",\r\n      headers: { \"Content-Type\": \"application/json\" }\r\n    }),\r\n    r = await res.json();\r\n    return Promise.resolve(r);\r\n  },\r\n  halt(e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  },\r\n  info(...message){\r\n    console.info('[%cMagicPH%c] %cINF', 'color: rgb(255,153,0);', '', 'color: rgb(0, 186, 124);', ...message);\r\n  },\r\n  inject(src) {\r\n    let script,\r\n    doc = document;\r\n    script = this.create(\"script\",null,\"text/javascript\");\r\n    script.innerHTML = src;\r\n    (doc.head || doc.documentElement || doc).appendChild(script);\r\n    if (script) {\r\n      script.remove();\r\n    };\r\n  },\r\n  log(...message){\r\n    console.log('[%cMagicPH%c] %cDBG', 'color: rgb(255,153,0);', '', 'color: rgb(255, 212, 0);', ...message);\r\n  },\r\n/**\r\n * @param {Node} element\r\n * @param {MutationCallback} callback\r\n * @param {MutationObserverInit} options\r\n */\r\n  observe(element, callback, options = {subtree:true,childList:true}) {\r\n    let observer = new MutationObserver(callback);\r\n    callback([], observer);\r\n    observer.observe(element, options);\r\n    return observer;\r\n  },\r\n  /** Waits until querySelectedElement exists */\r\n  async query(selector, root = document) {\r\n    while ( root.querySelector(selector) === null) {\r\n      await new Promise( resolve =>  requestAnimationFrame(resolve) )\r\n    }\r\n    return root.querySelector(selector);\r\n  },\r\n  removeItem(key) {\r\n    return localStorage.removeItem(key);\r\n  },\r\n  setItem(key,value) {\r\n    return localStorage.setItem(key,value);\r\n  },\r\n  scrollnumber: /view_video.php/.test(window.location.href) ? 400 : 101,\r\n};","const qs = (element, selector = document) => {\r\n  return selector.querySelector(element);\r\n},\r\nlocate = document.location.href,\r\ncheck = {\r\n  community: document.location.pathname == \"/user/discover\",\r\n  channel: qs(\"#channelsProfile\"),\r\n  category: /categories/.test(locate),\r\n  favorites: /magicph-favorites/.test(locate),\r\n  home: document.location.pathname == \"/\",\r\n  gay: /gay/.test(locate),\r\n  gif: /gifs/.test(locate) || /gif/.test(locate),\r\n  lo: qs(\"body.logged-out\"),\r\n  model: qs(\"div.amateurModel\"),\r\n  new: qs(\"#headerSearchWrapperFree\"),\r\n  premium: qs(\".premiumUser\"),\r\n  pstar: /pornstars/.test(locate),\r\n  user: qs(\"#profileContent\"),\r\n  video: /view_video.php/.test(locate),\r\n  //recommended: qs(\"div#recommendations\")\r\n  recommended: document.location.pathname === \"/recommended\",\r\n};\r\n\r\nexport {\r\n  check\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\r\nimport { check } from \"./general.js\";\r\nimport {mph} from './api.js';\r\nimport webext from './api-webext.js';\r\n\r\nwebext.getItem((config) => {\r\n  if(check.favorites) {\r\n    mph.query(\"body\").then(() => {\r\n    document.title = \"[MagicPH] Favorites\";\r\n    $(document.body).addClass(\"mph\");\r\n    $(\".wrapper > .container\").attr(\"class\", \"favorites\").html(config.favorites);\r\n    let downloader = document.querySelectorAll(\"button.download-trigger\"),\r\n    remover = document.querySelectorAll(\"button.remove-trigger\"),\r\n    downloadfn = (e) => {\r\n      mph.halt(e);\r\n      let m = e.target\r\n      if($(m).text() == \"Download\") {\r\n        $(m).parent().siblings(\"div\").addClass(\"rm\");\r\n        $(m).parent().parent().parent().addClass(\"marked\");\r\n        $(m).parent().parent().siblings(\"a\").addClass(\"rm\");\r\n        $(m).parent().parent().siblings(\"span\").addClass(\"rm\");\r\n        $(m).text(\"Downloaded!\");\r\n      } else {\r\n        $(m).parent().siblings(\"div\").removeClass(\"rm\");\r\n        $(m).parent().parent().parent().removeClass(\"marked\");\r\n        $(m).parent().parent().siblings(\"a\").removeClass(\"rm\");\r\n        $(m).parent().parent().siblings(\"span\").removeClass(\"rm\");\r\n        $(m).text(\"Download\");\r\n      };\r\n      downloader.forEach((item,i) => {\r\n        downloader[i].removeEventListener(\"click\", downloadfn)\r\n        mph.ael(downloader[i],\"click\", downloadfn);\r\n        remover[i].removeEventListener(\"click\", removerfn)\r\n        mph.ael(remover[i],\"click\", removerfn);\r\n      });\r\n      config.favorites = $(\".magic-popup > .favorites\").html();\r\n      webext.setItem(config);\r\n    },\r\n    removerfn = (e) => {\r\n      mph.halt(e);\r\n      let m = e.target\r\n      if($(m).text() == \"Remove\") {\r\n        $(m).parent().siblings(\"div\").addClass(\"rm\");\r\n        $(m).parent().parent().parent().addClass(\"marked\");\r\n        $(m).parent().parent().siblings(\"a\").addClass(\"rm\");\r\n        $(m).parent().parent().siblings(\"span\").addClass(\"rm\");\r\n        $(m).text(\"Undo\");\r\n      } else {\r\n        $(m).parent().siblings(\"div\").removeClass(\"rm\");\r\n        $(m).parent().parent().parent().removeClass(\"marked\");\r\n        $(m).parent().parent().siblings(\"a\").removeClass(\"rm\");\r\n        $(m).parent().parent().siblings(\"span\").removeClass(\"rm\");\r\n        $(m).text(\"Remove\");\r\n      };\r\n      downloader.forEach((item,i) => {\r\n        downloader[i].removeEventListener(\"click\", downloadfn)\r\n        mph.ael(downloader[i],\"click\", downloadfn);\r\n        remover[i].removeEventListener(\"click\", removerfn)\r\n        mph.ael(remover[i],\"click\", removerfn);\r\n      });\r\n      config.favorites = $(\".magic-popup > .favorites\").html();\r\n      webext.setItem(config);\r\n    };\r\n    remover.forEach((item,i) => {\r\n      remover[i].removeEventListener(\"click\", removerfn)\r\n      mph.ael(remover[i],\"click\", removerfn);\r\n    });\r\n    downloader.forEach((item,i) => {\r\n      downloader[i].removeEventListener(\"click\", downloadfn)\r\n      mph.ael(downloader[i],\"click\", downloadfn);\r\n    });\r\n  });\r\n  };\r\n});\r\n\r\n\r\n// function fetchURL(link) {\r\n//   return new Promise((resolve,reject) => {\r\n//     $.ajax({\r\n//       type: \"GET\",\r\n//       url: link,\r\n//       dataType: 'image/jpg',\r\n//       async: true,\r\n//       success: (data) => {\r\n//         resolve(data);\r\n//       },\r\n//       error: (error) => {\r\n//         reject(error);\r\n//       }\r\n//     })\r\n//   });\r\n// };"],"names":["brws","browser","chrome","configDefault","debug","altplayers","seektime","autojump","autoscroll","blurimg","comments","topbutton","sidebar","favorites","blacklist","headerOrder","headerLinks","url","h1_link","h2_link","h3_link","h4_link","h5_link","h6_link","h7_link","h8_link","name","getItem","callback","storage","local","get","getSync","sync","getURL","path","runtime","setItem","keys","set","setSync","mph","ael","elm","document","event","addEventListener","async","args","Promise","resolve","requestAnimationFrame","create","element","cname","type","el","createElement","className","delay","ms","setTimeout","err","error","console","key","localStorage","res","fetch","method","headers","r","json","halt","e","preventDefault","stopPropagation","info","message","inject","src","script","doc","this","innerHTML","head","documentElement","appendChild","remove","log","observer","MutationObserver","observe","root","querySelector","selector","qs","locate","location","href","check","community","pathname","channel","category","test","home","gay","gif","lo","model","new","premium","pstar","user","video","recommended","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","o","Object","defineProperty","enumerable","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","webext","config","then","title","$","body","addClass","attr","html","downloader","querySelectorAll","remover","downloadfn","m","target","text","parent","siblings","removeClass","forEach","item","i","removeEventListener","removerfn"],"sourceRoot":""}