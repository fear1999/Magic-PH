"use strict";import{mph}from"./api.js";import{qs,qsA}from"./querySelector.js";(()=>{if(document.documentElement.classList.contains("ios"))return!1;let e=(e="default")=>{"default"!=e&&mph.query(".userInfo > div.usernameWrap > span.usernameBadgesWrapper > a").then((e=>{e.href=e.href+"/videos"}))};mph.find.channel&&mph.log("Channel page"),mph.find.home&&(mph.info("Homepage page"),qsA("ul").forEach((e=>{"Recommended for You"===e.dataset.hpblockname&&qs(".frontListingWrapper").prepend(e.parentElement)}))),mph.find.video&&(mph.info("Video page"),qs("html").style="scrollbar-color: #4646463d #000 !important;",e("video"),qs('[data-entrycode="VidPg-premVid-videoPage"]')&&qs('[data-entrycode="VidPg-premVid-videoPage"]').parentElement.parentElement.remove(),qs(".mainPlayerDiv").classList.add("bigp"),qs(".relatedVideos").classList.add("mph1","video-info-row","showLess","allRelatedVideos"),qs(".show-more-btn").classList.add("bottom"),qs(".video-actions-tabs").append(qs(".mph1")),qs(".videos-list").classList.add("mph2","video-info-row","showLess"),qs(".mph1").append(qs(".mph2")),qs(".videos-list").classList.add("mph3","video-info-row","showLess"),qs(".js-relatedRecommended").append(qs(".mph3")),qs(".mph2 > .user-playlist").id="relatedVideosCenter",qsA("ul.mgp_quality.mgp_optionsList > li").forEach((e=>{e.classList.remove("mgp_active")})),qsA("ul.mgp_quality.mgp_optionsList > li")[0].classList.add("mgp_active"),mph.ael(qs(".mgp_options"),"click",(()=>{qs("div.mgp_optionsMenu.mgp_visible.mgp_level2")?(qs("div.mgp_optionsMenu").classList.remove("mgp_level2","mgp_visible"),qs(".mgp_optionsMenu > div:nth-child(2)").classList.remove("mgp_animated"),qs(".mgp_optionsMenu > div:nth-child(2)").setAttribute("style","width: 165px; height: 136px;"),qs("ul.mgp_quality.mgp_optionsList").setAttribute("style","display:none;")):(qs(".mgp_subPage > div:nth-child(1)").innerText="Quality",qs("div.mgp_optionsMenu").classList.add("mgp_level2","mgp_visible"),qs(".mgp_optionsMenu > div:nth-child(2)").classList.add("mgp_animated"),qs(".mgp_optionsMenu > div:nth-child(2)").setAttribute("style","width: 110px; height: 194px;"),qs("ul.mgp_quality.mgp_optionsList").setAttribute("style","display:block;"))})),mph.ael(qs(".mgp_clickHandler"),"click",(()=>{qs("div.mgp_optionsMenu").classList.remove("mgp_level2","mgp_visible"),qs(".mgp_optionsMenu > div:nth-child(2)").classList.remove("mgp_animated"),qs(".mgp_optionsMenu > div:nth-child(2)").setAttribute("style","width: 165px; height: 136px;"),qs("ul.mgp_quality.mgp_optionsList").setAttribute("style","display:none;")})),qsA("div.mgp_header").forEach((e=>{mph.ael(e,"click",(()=>{qs("div.mgp_optionsMenu.mgp_visible.mgp_level2")&&(qs("div.mgp_optionsMenu").classList.remove("mgp_level2"),qs(".mgp_optionsMenu > div:nth-child(2)").setAttribute("style","width: 165px; height: 136px;"))}))}))),mph.find.category&&mph.info("Categories"),mph.find.user&&mph.info("User Profile"),mph.find.model&&(mph.info("Model"),e("model")),mph.find.pstar&&mph.info("Pornstar"),mph.find.gif&&(mph.info("Gifs"),mph.find.lo&&qs("#imgNavWrap").append(qs(".gifColumnRight"))),mph.find.recommended&&mph.find.lo&&(mph.info("Recommended"),qs('a[href="/recommended/rate"]').classList.add("rm")),e(),mph.find.lo&&(mph.info("Logged out"),mph.inject("disablePlaylistPlusButon = true")),mph.ael(document,"scroll",(()=>{const e=qs(".headerSearchWrapper"),s=qsA(".pagination3 > ul")[1],t=qsA(".pagination3 > .pjump")[1],i=qs(".magicCenter"),p=qs(".mph1"),o=qs(".mph2");mph.find.video&&(document.documentElement.scrollTop>300?i.classList.add("top"):i.classList.remove("top")),document.documentElement.scrollTop>mph.scrollnumber?(qs(".magicTop").classList.add("top"),e.classList.add("sticky"),s&&s.classList.add("top"),t&&t.classList.add("top"),p&&p.setAttribute("style","display: block;"),o&&o.setAttribute("style","display: block;"),i&&i.classList.remove("top")):(qs(".magicTop").classList.remove("top"),e.classList.remove("sticky"),s&&s.classList.remove("top"),t&&t.classList.remove("top"),p&&p.setAttribute("style","display: none;"),o&&o.setAttribute("style","display: none;"))}))})();