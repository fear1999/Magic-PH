"use strict";const brws="undefined"==typeof browser?chrome:browser,configDefault={debug:!0,altplayers:"none",seektime:4,autojump:!1,autoscroll:!0,blurimg:!1,comments:!1,topbutton:!0,sidebar:!0,favorites:"",blacklist:"none",headerOrder:["home","videos","categories","pornstars","gifs","recommended","favorites"],headerLinks:{url:{h1_link:"/",h2_link:"/",h3_link:"/",h4_link:"/",h5_link:"/",h6_link:"/",h7_link:"/",h8_link:"/"},name:{h1_link:"/",h2_link:"/",h3_link:"/",h4_link:"/",h5_link:"/",h6_link:"/",h7_link:"/",h8_link:"/"}}},doc=document,qsA=(e,t)=>(t||(t=document),t.querySelectorAll(e)),qs=(e,t)=>(t||(t=document),t.querySelector(e)),injectCSS=e=>{if(!doc)return;let t;t=doc.createElement("link"),t.rel="stylesheet",t.href=brws.runtime.getURL(e),(doc.head||doc.documentElement||doc).appendChild(t)},injectScript=(e,t)=>{if(!doc)return;let o;o=doc.createElement("script"),o.async=!0,o.type="module",o.src=brws.runtime.getURL(e),o.crossOrigin="anonymous",(doc.head||doc.documentElement||doc).appendChild(o),o&&!t&&o.remove()};self.onload=()=>{doc.location.origin.includes("pornhub")?(injectScript("js/magicph.js"),/view_video.php/.test(self.location.href)&&(localStorage.getItem("altplayers")&&(injectCSS("css/plyr.css"),injectScript("web_accessible_resources/plyr.min.js",!0)),injectScript("js/networkPlayer.js"))):brws.storage.local.get(configDefault,(async e=>{let t=(s=".tab-block-label",r||(r=document),r.querySelectorAll(s)),o=qs("#videoComments"),l=e=>{t.forEach((t=>{"add"===e&&"comments_tab"===t.dataset.tabid&&t.classList.add("rm"),"remove"===e&&"comments_tab"===t.dataset.tabid&&t.classList.remove("rm")}))};var s,r;e.autoscroll&&window.scrollTo(0,101),localStorage.setItem("seektime",e.seektime),e.comments?(o&&o.classList.remove("rm"),qs(".tab-block-label")&&l("remove"),qs("#allComments")&&qs("#allComments").classList.remove("rm")):(o&&o.classList.add("rm"),qs(".tab-block-label")&&l("add"),qs("#allComments")&&qs("#allComments").classList.add("rm")),e.autojump?localStorage.setItem("autojump",e.autojump):localStorage.getItem("autojump")&&localStorage.removeItem("autojump"),injectScript("js/networkPlayer.js")}))};